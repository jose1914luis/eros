var rederizarCanvas=function(a,b,c,d,e,f){function o(a,b){var c=document.createElement("canvas"),d=c.getContext("2d"),e=a.width*b,f=a.height*b;return c.width=e,c.height=f,d.drawImage(a,0,0,e,f),c}var g=new Image;g.src=b;var h=d,i=c,j=0,k=g.width,l=g.height;k>h&&(j=h/k,l*=j,k*=j),l>i&&(j=i/l,k*=j);var m=document.createElement("canvas"),n=m.getContext("2d");g.onload=function(){var b=o(g,.5);m.width=k,m.height=l,n.drawImage(b,0,0,k,l);var c=m.toDataURL("image/png");$(a).attr("src",c),rederizar($(a),e,f);for(var d=atob(c.split(",")[1]),h=[],i=0;i<d.length;i++)h.push(d.charCodeAt(i));addImages.push(new Blob([new Uint8Array(h)],{type:"image/png"}))}},rederizar=function(a,b,c){var d=c,e=b,f=0,g=$(a).width(),h=$(a).height();g>d&&(f=d/g,$(a).css("width",d),$(a).css("height",h*f),h*=f,g*=f),h>e&&(f=e/h,$(a).css("height",e),$(a).css("width",g*f),g*=f)};